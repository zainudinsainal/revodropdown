{"file":"revo-dropdown.js","mappings":"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","names":["RevoDropdown","__stencil_proxyCustomElement"],"sources":["src/utils/closestPolifill.ts","src/utils/consts.ts","src/components/list/revo-list.filter.tsx","src/components/dropdown/arrow.tsx","src/components/dropdown/revo-dropdown.style.scss?tag=revo-dropdown","src/components/dropdown/revo-dropdown.tsx"],"sourcesContent":["(function closest() {\n  if (!Element.prototype.matches) {\n    Element.prototype.matches =\n      ((Element.prototype as unknown) as { msMatchesSelector: (selectors: string) => boolean }).msMatchesSelector || Element.prototype.webkitMatchesSelector;\n  }\n\n  if (!Element.prototype.closest) {\n    Element.prototype.closest = function (s: string) {\n      let el: HTMLElement | Element | (Node & ParentNode) = this;\n\n      do {\n        if (Element.prototype.matches.call(el, s)) {\n          return el;\n        }\n        el = el.parentElement || el.parentNode;\n      } while (el !== null && el.nodeType === 1);\n      return null;\n    };\n  }\n})();\n","export const UUID = 'uuid';\n","import { h } from '@stencil/core';\nimport { JSXBase } from '@stencil/core/internal';\nimport { getItemLabel } from '../../utils/item.helpers';\n\ninterface Props extends JSXBase.DOMAttributes<any> {\n  value?: string;\n  filterValue?: string;\n  source: any[];\n  dataLabel?: string;\n  filter?: 'contains' | 'start';\n  autocomplete?: string;\n  ref?(e: HTMLInputElement): void;\n  onInput?(): void;\n  onFocus?(): void;\n  onClick?(e: MouseEvent): void;\n  onFilterChange(e: { value?: string; items: any[] }): void;\n}\n\nfunction doFilter(p: Props, val?: string) {\n  let newSource = [];\n  const filterValue = val?.trim()?.toLocaleLowerCase();\n  if (!filterValue) {\n    newSource = p.source;\n  } else {\n    for (let item of p.source) {\n      let val = getItemLabel(item, p.dataLabel);\n      if (typeof val === 'string') {\n        val = val.toLocaleLowerCase();\n        switch (p.filter) {\n          case 'start':\n            if (val.indexOf(filterValue) === 0) {\n              newSource.push(item);\n            }\n            break;\n          default:\n            if (val.indexOf(filterValue) > -1) {\n              newSource.push(item);\n            }\n            break;\n        }\n      }\n    }\n  }\n  return newSource;\n}\n\nexport const DropdownListFilter = (p: Props) => {\n  const filterChange = (value?: string) => {\n    const items = doFilter(p, value);\n    p.onFilterChange({ value, items });\n  };\n\n  if (!p.filter) {\n    p.filter = 'contains';\n  }\n  filterChange(p.filterValue);\n  if (p.autocomplete) {\n    p.value = p.filterValue;\n  }\n  return (\n    <input class={{ 'filter-box': true, }} type=\"text\"\n      {...p}\n      onClick={e => {\n        e.preventDefault();\n        p.onClick && p.onClick(e);\n      }}\n      onInput={e => {\n        p.onInput && p.onInput();\n        const value = (e.currentTarget as HTMLInputElement)?.value;\n        filterChange(value);\n      }}\n    />\n  );\n};\n","import { h } from '@stencil/core';\n\nexport const ArrowRenderer = () => {\n  return (\n    <span class=\"arrow-wrapper\">\n      <svg class=\"arrow\" aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\n        <path fill=\"currentColor\" d=\"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z\"></path>\n      </svg>\n    </span>\n  );\n};\n","@mixin fontStyle {\n  font-size: 1em;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n  font-weight: 400;\n  line-height: 2em;\n  letter-spacing: 0.01em;\n}\n\n$border-color: #ececec;\n$border-size: 1px;\n\n$padding: 10px;\n$font-size: 14px;\n\nrevo-dropdown {\n  @include fontStyle;\n\n  display: inline-flex;\n  flex-direction: column;\n  vertical-align: top;\n\n  padding: 0;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n\n  .rv-dr-root {\n    padding: 5px 9px;\n    padding-right: 35px;\n    flex-wrap: wrap;\n    position: relative;\n    border-radius: 4px;\n\n    cursor: text;\n    display: inline-flex;\n    position: relative;\n    font-size: 1rem;\n    box-sizing: border-box;\n    align-items: center;\n  }\n\n  input.filter-box {\n    padding-left: 6px;\n    padding: 9.5px 4px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    text-overflow: ellipsis;\n    border: 0;\n    height: 1.1876em;\n    margin: 0;\n    display: block;\n    background: none;\n    box-sizing: content-box;\n    letter-spacing: inherit;\n    animation-duration: 10ms;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .actions {\n    right: 9px;\n    top: calc(50% - $font-size);\n    position: absolute;\n  }\n\n  label {\n    $time: 200ms;\n    font-size: 1rem;\n    z-index: 100;\n    top: 0;\n    left: 0;\n    position: absolute;\n    display: block;\n    transform-origin: top left;\n    line-height: 1;\n    transition: color $time cubic-bezier(0, 0, 0.2, 1) 0ms, transform $time cubic-bezier(0, 0, 0.2, 1) 0ms;\n    transform: translate($font-size, $font-size) scale(1);\n    pointer-events: none;\n  }\n\n  fieldset {\n    border-color: $border-color;\n    top: -5px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: 0;\n    padding: 0 8px;\n    overflow: hidden;\n    position: absolute;\n    z-index: 0;\n    border-style: solid;\n    border-width: $border-size;\n    border-radius: inherit;\n    pointer-events: none;\n\n    legend {\n      width: auto;\n      height: 11px;\n      display: block;\n      padding: 0;\n      font-size: 0.75em;\n      max-width: 0.01px;\n      text-align: left;\n      transition: max-width 50ms cubic-bezier(0, 0, 0.2, 1) 0ms;\n      visibility: hidden;\n\n      > span {\n        display: inline-block;\n        padding-left: 5px;\n        padding-right: 5px;\n      }\n    }\n  }\n\n  &.shrink {\n    label {\n      transform: translate($font-size, -6px) scale(0.75);\n    }\n\n    legend {\n      max-width: 1000px;\n      transition: max-width 100ms cubic-bezier(0, 0, 0.2, 1) 50ms;\n    }\n  }\n\n  .arrow {\n    width: 9px;\n    margin-top: 5px;\n    margin-left: 5px;\n    opacity: 0.4;\n  }\n\n  .arrow-wrapper {\n    width: 15px;\n    text-align: center;\n  }\n\n  &.active {\n    $bg: #0089ff;\n\n    label {\n      color: $bg;\n    }\n    fieldset {\n      border-color: $bg;\n    }\n  }\n}\n\n.revo-dropdown-list {\n  @include fontStyle;\n\n  position: absolute;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, transform 160ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  z-index: 999;\n  display: none;\n  opacity: 0;\n\n  &.top .dropdown-inner {\n    bottom: 2px;\n    flex-direction: column-reverse;\n\n    .filter-box {\n      margin-bottom: 0;\n    }\n  }\n\n  &:not(.top) .dropdown-inner {\n    top: 2px;\n    flex-direction: column;\n\n    .filter-box {\n      margin-top: 0;\n    }\n  }\n\n  .dropdown-inner {\n    display: flex;\n    max-height: 100%;\n    position: absolute;\n\n    padding: 8px 0;\n    box-sizing: border-box;\n\n    min-height: 16px;\n    min-width: 16px;\n\n    box-shadow: 0 0 14px 0 rgba(53, 64, 82, 0.05);\n    border: 1px solid rgb(0 0 0 / 5%);\n    border-radius: 4px;\n    color: rgba(0, 0, 0, 0.87);\n    overflow: hidden;\n    background-color: #fff;\n\n    .filter-box {\n      border: 1px solid $border-color;\n      min-height: 30px;\n      line-height: 30px;\n      margin: 10px;\n      border-radius: 6px;\n\n      &:focus {\n        outline: none;\n        border-color: #0089ff;\n      }\n    }\n  }\n}\n","import { Component, Prop, h, VNode, State, Listen, Event, EventEmitter, Method, Watch, Host } from '@stencil/core';\nimport '../../utils/closestPolifill';\nimport { UUID } from '../../utils/consts';\nimport { getItemLabel, getItemValue } from '../../utils/item.helpers';\nimport { DropdownListFilter } from '../list/revo-list.filter';\nimport { ArrowRenderer } from './arrow';\n\n@Component({\n  tag: 'revo-dropdown',\n  styleUrl: 'revo-dropdown.style.scss',\n})\nexport class RevoDropdown {\n  private element: Element;\n  private dropdown: HTMLElement;\n  private dropdownInner: HTMLElement;\n  private dropdownInput: HTMLInputElement;\n  private autocompleteInput: HTMLInputElement;\n  private revoList: HTMLRevoListElement;\n  private uuid: string = '';\n  private currentSource?: any[];\n  private isClosing = false;\n\n  @State() currentItem: any = null;\n  @State() isVisible = false;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Props\n  //\n  // --------------------------------------------------------------------------\n  /**\n   * Define object mapping for labels\n   */\n  @Prop() dataLabel: string;\n  /**\n   * Selected value\n   */\n  @Prop({ mutable: true }) value: any;\n  /**\n   * Filter value\n   */\n  @Prop({ mutable: true }) currentFilter: any;\n\n  /**\n   * Define object mapping for id/value\n   */\n  @Prop() dataId: string;\n  /**\n   * Should dropdown autoclose on changeValue\n   */\n  @Prop() autoClose: boolean = true;\n\n  /**\n   * Define object mapping for id/value\n   */\n  @Prop() source: any[] = [];\n\n  /**\n   * Define object mapping for id/value that should always be available\n   * in the results even after filtering\n   */\n  @Prop() appendSource: any[] = [];\n\n  /**\n   * Placeholder text\n   */\n  @Prop() placeholder: string = 'Select';\n  /**\n   * Where to append element\n   */\n  @Prop() appendTo: 'body' | 'current' = 'body';\n  /**\n   * Filter criteria\n   */\n  @Prop() filter: 'contains' | 'start';\n\n  @Prop() maxHeight: number;\n\n  @Prop() hasFilter: boolean = true;\n\n  @Prop() multiple: boolean = false;\n  @Prop() autocomplete: boolean = false;\n  @Prop() autoFocus: boolean = false;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Events\n  //\n  // --------------------------------------------------------------------------\n  /**\n   * When value changed\n   */\n  @Event({ eventName: 'changed' }) changeValue: EventEmitter<{ val: any; originalEvent?: MouseEvent }>;\n  /**\n   * Before element close, can be prevented\n   */\n  @Event() close: EventEmitter;\n\n  /**\n   * Before element open, can be prevented\n   */\n  @Event() open: EventEmitter;\n\n  // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n\n  /**\n   * Close dropdown\n   */\n  @Method() async doClose(isDisconnected = false): Promise<void> {\n    if (!isDisconnected) {\n      const event = this.close.emit();\n      if (event.defaultPrevented) {\n        return;\n      }\n    }\n    this.isClosing = true;\n    this.isVisible = false;\n  }\n  /**\n   * Open dropdown\n   */\n  @Method() async doOpen(): Promise<void> {\n    const event = this.open.emit();\n    if (event.defaultPrevented) {\n      return;\n    }\n    this.isVisible = true;\n  }\n\n  /**\n   * Change value\n   */\n  @Method() async doChange(val: any, originalEvent?: MouseEvent): Promise<void> {\n    const realValue = getItemValue(val, this.dataId);\n\n    if (this.multiple) {\n      let newVals = [...(this.value || [])];\n\n      if (Array.isArray(this.value)) {\n        newVals.push(realValue);\n      } else {\n        newVals = [realValue];\n      }\n\n      this.value = newVals;\n    } else {\n      this.value = realValue;\n    }\n\n    this.changeValue.emit({ val: this.value, originalEvent });\n    if (this.autocompleteInput) {\n      this.autocompleteInput.value = this.multiple ? '' : getItemLabel(this.currentItem, this.dataLabel);\n    }\n    if (this.autoClose && this.isVisible) {\n      this.doClose();\n    }\n  }\n\n  // --------------------------------------------------------------------------\n  //\n  //  Internal\n  //\n  // --------------------------------------------------------------------------\n\n  /** Action finished */\n  @Listen('mousedown', { target: 'document' })\n  onMouseUp(e: MouseEvent): void {\n    if (this.isVisible && !e.defaultPrevented) {\n      const isOutside = !(e.target as HTMLElement|null)?.closest(`[${UUID}=\"${this.uuid}\"]`);\n      if (isOutside) {\n        this.doClose();\n      }\n    }\n  }\n\n  @Listen('keydown', { target: 'document' }) onKey(e: KeyboardEvent) {\n    switch (e.code) {\n      case 'Escape':\n        e.preventDefault();\n        this.doClose();\n        break;\n    }\n  }\n\n  @Watch('value') onValueChanged(newVal: any) {\n    console.log('onValueChanged', newVal);\n    if (Array.isArray(newVal)) {\n      this.currentItem = newVal.map((val) => this.getValue(val));\n    } else {\n      this.currentItem = this.getValue(newVal);\n    }\n    console.log('onValueChanged', this.currentItem);\n  }\n\n  // componentWillLoad() {\n  //   if (this.value) {\n  //     console.log('componentWillLoad', this.value);\n  //     this.currentItem = this.value;\n  //   }\n  // }\n\n  connectedCallback() {\n    this.uuid = `${this.uuidv4(new Date().getTime())}-rvdropdown`;\n    if (typeof this.value !== 'undefined') {\n      this.onValueChanged(this.value);\n    }\n  }\n\n  disconnectedCallback() {\n    this.doClose(true);\n  }\n\n  componentDidRender() {\n    if (this.dropdown && this.appendTo === 'body') {\n      document.body.appendChild(this.dropdown);\n    }\n    if (this.isVisible) {\n      this.updateStyles();\n    }\n    if (this.dropdownInput) {\n      this.dropdownInput.focus();\n    }\n    if (this.autoFocus) {\n      if (this.autocomplete) {\n        setTimeout(() => this.autocompleteInput?.focus(), 0);\n      }\n    }\n  }\n\n  private getSelectedItemLabel(item?: any) {\n    return item && getItemLabel(item, this.dataLabel) || '';\n  }\n\n  private renderDropdown() {\n    return (\n      <div class=\"revo-dropdown-list\" ref={e => (this.dropdown = e)}>\n        <div {...{ [UUID]: this.uuid }} class=\"dropdown-inner\" ref={e => (this.dropdownInner = e)}>\n          {this.hasFilter && !this.autocomplete ? (\n            <DropdownListFilter\n              ref={e => (this.dropdownInput = e)}\n              source={this.source}\n              filter={this.filter}\n              dataLabel={this.dataLabel}\n              value={this.currentFilter || ''}\n              filterValue={this.currentFilter || ''}\n              onFilterChange={e => {\n                this.currentFilter = e.value;\n                this.currentSource = e.items.concat(this.appendSource);\n                this.revoList?.refresh(this.currentSource);\n              }}\n            />\n          ) : undefined}\n          <revo-list\n            ref={e => (this.revoList = e)}\n            isFocused={true}\n            sourceItems={this.currentSource}\n            dataLabel={this.dataLabel}\n            onChanged={e => this.doChange(e.detail.item, e.detail.e)}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  private deselect(index: number) {\n    if (Array.isArray(this.currentItem)) {\n      const items = [...this.currentItem];\n      delete items[index];\n      this.currentItem = [...items].filter((item) => item);\n    }\n  }\n\n  renderSelect() {\n    const val = this.multiple ? '' : this.getSelectedItemLabel(this.currentItem);\n    return <input type=\"text\" disabled class=\"filter-box\" value={val} />;\n  }\n\n  renderAutocomplete() {\n    const val = this.multiple ? '' : this.getSelectedItemLabel(this.currentItem);\n    return (\n      <DropdownListFilter\n        ref={e => (this.autocompleteInput = e)}\n        autocomplete='true'\n        source={this.source}\n        filter={this.filter}\n        dataLabel={this.dataLabel}\n        value={val}\n        filterValue={this.currentFilter}\n        onKeyDown={e => {\n          if (this.isVisible) {\n            return;\n          }\n          switch (e.code) {\n            case 'ArrowUp':\n            case 'ArrowDown':\n              e.preventDefault();\n              this.showAutoComplete();\n              break;\n          }\n        }}\n        onInput={() => this.showAutoComplete()}\n        onFocus={() => this.showAutoComplete()}\n        onClick={() => this.showAutoComplete()}\n        onFilterChange={e => {\n          this.currentFilter = e.value;\n          this.currentSource = e.items.concat(this.appendSource);\n          this.revoList?.refresh(this.currentSource);\n        }}\n      />\n    );\n  }\n\n  renderMultiselected() {\n    let values = [];\n\n    if (Array.isArray(this.currentItem)) {\n      values = [...this.currentItem];\n    }\n\n    if (values.length) {\n      return <div>\n        {values.map((item: any, index: number) => <button style={{ 'margin-left': index > 0 ? '2px' : '' }} onClick={e => {\n          e.stopPropagation();\n          this.deselect(index);\n        }}>\n          <span style={{ 'margin-right': '5px' }}>{this.getSelectedItemLabel(item)}</span>\n          <span style={{ cursor: 'pointer', 'font-weight': 'bold' }}>✕</span>\n        </button>)}\n      </div>\n    }\n  }\n\n  render() {\n    let list: VNode;\n    if (this.isVisible) {\n      list = this.renderDropdown();\n    }\n    const props = {\n      [UUID]: this.uuid,\n      class: {\n        active: this.isVisible,\n        shrink: this.isVisible || !!this.currentItem || !!this.autocompleteInput?.value,\n      },\n      ref: e => (this.element = e),\n      onClick: e => this.selectClick(e)\n    };\n    if (this.autocomplete) {\n      props['autocomplete'] = true;\n    }\n    return (\n      <Host {...props}>\n        <label>{this.placeholder}</label>\n        <div class=\"rv-dr-root\">\n          {this.multiple && this.renderMultiselected()}\n          {this.autocomplete ? this.renderAutocomplete() : this.renderSelect()}\n          <span class=\"actions\"><ArrowRenderer/></span>\n          <fieldset>\n            <legend>\n              <span>{this.placeholder}</span>\n            </legend>\n          </fieldset>\n        </div>\n        {list}\n      </Host>\n    );\n  }\n\n  private showAutoComplete() {\n    if (!this.isVisible && !this.isClosing) {\n      this.isVisible = true;\n    }\n    this.isClosing = false;\n  }\n\n  private getValue(newVal: any) {\n    for (let index in this.source) {\n      const item = this.source[index];\n      if (newVal == getItemValue(item, this.dataId)) {\n        return item;\n      }\n    }\n    return null;\n  }\n\n  private selectClick(e: Event) {\n    if (e.defaultPrevented) {\n      return;\n    }\n    if (this.isVisible) {\n      this.doClose();\n    } else {\n      this.doOpen();\n    }\n  }\n\n  private updateStyles() {\n    if (!this.dropdown) {\n      return;\n    }\n    const { top, left, height } = this.element.getBoundingClientRect();\n    const visibleRect = this.clientRectangle();\n    let currentTop = top + height + visibleRect.top;\n\n    const style: {\n      top?: string;\n      maxHeight?: number;\n      maxWidth?: string;\n      left?: string;\n      opacity?: number;\n      display: string;\n    } = {\n      opacity: 1,\n      display: 'block'\n    };\n\n    // top\n    if (currentTop > visibleRect.centerY) {\n      style.top = `${currentTop - height}px`;\n      style.maxHeight = currentTop - height - visibleRect.top - 50;\n      this.dropdown.classList.add('top');\n\n      // bottom\n    } else {\n      style.top = `${currentTop}px`;\n      style.maxHeight = visibleRect.bottom - currentTop - 50;\n      this.dropdown.classList.remove('top');\n    }\n\n    // left\n    let currentLeft = left + visibleRect.left;\n    const rightSpace = visibleRect.right - (currentLeft + this.dropdown.clientWidth);\n    if (rightSpace < 0) {\n      currentLeft += rightSpace;\n    }\n    style.left = `${currentLeft}px`;\n    this.dropdownInner.style.maxHeight = `${Math.min(style.maxHeight, this.maxHeight || style.maxHeight)}px`;\n    this.dropdownInner.style.maxWidth = style.maxWidth;\n\n    for (let s in style) {\n      this.dropdown.style[s] = style[s];\n    }\n  }\n\n  private clientRectangle() {\n    const rect = {\n      top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop,\n      bottom: 0,\n      centerY: 0,\n      height: document.body.clientHeight,\n      left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,\n      right: 0,\n      width: document.body.clientWidth,\n      centerX: 0,\n    };\n    rect.bottom = rect.top + rect.height;\n    rect.right = rect.left + rect.width;\n    rect.centerY = rect.top + rect.height / 2;\n    rect.centerX = rect.left + rect.width / 2;\n    return rect;\n  }\n\n  private uuidv4(stamp: number) {\n    return `${stamp}-xx-y`.replace(/[xy]/g, (c) => {\n      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n}\n"],"version":3}